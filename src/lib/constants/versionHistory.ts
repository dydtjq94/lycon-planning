/**
 * 버전 히스토리
 *
 * 버전 체계: a.b.c
 *   a (Major) - 대규모 변경, 서비스 리뉴얼, 기존 호환 깨지는 변경
 *   b (Minor) - 새로운 기능 추가, 주요 개선
 *   c (Patch) - 버그 수정, 소소한 개선
 *
 * 규칙:
 *   - 모든 변경사항은 현재 버전의 changes 배열에 추가 (필수)
 *   - 버전 번호는 사용자 요청 시에만 올림
 *   - 버전 올릴 때 AI가 changes를 바탕으로 summary(마크다운) 작성
 */

export interface VersionEntry {
  version: string;
  date: string; // YYYY.MM.DD
  summary: string; // 마크다운 형식의 릴리즈 노트 (버전 올릴 때 AI가 작성)
  changes: string[]; // 개발 중 쌓이는 변경사항 목록
}

export const VERSION_HISTORY: VersionEntry[] = [
  {
    version: "1.0.1",
    date: "2026.02.13",
    summary: "", // 아직 릴리즈 전 - 사용자가 "버전 올려줘" 하면 AI가 작성
    changes: [
      "버전 히스토리 마크다운 릴리즈 노트 시스템 구축",
      "투자 포트폴리오 차트 기간 옵션을 전체/1개월/3개월/1년/3년/5년/10년으로 변경",
      "투자 포트폴리오 차트 기본 기간을 전체로 변경",
      "투자 포트폴리오 차트 거래 점선 위치 기간 변경 시 어긋나는 버그 수정",
      "시뮬레이션 생성 시 부동산 관리비/월세를 별도 지출로 중복 생성하지 않도록 수정",
      "현금 흐름 우선순위 패널에서 무한 리렌더링 루프 발생하는 버그 수정",
      "현금 흐름 우선순위 저장 시 차트/사이드바에 즉시 반영되도록 개선",
      "시뮬레이션 가정 저장 시 차트에 즉시 반영되도록 개선",
      "시뮬레이션 엔진 성장률 시스템 통합 - InvestmentAssumptions 패널 값이 소득/지출/부동산 성장률에 실제 반영되도록 수정",
      "지출 탭에서 의료비 기본 섹션 제거",
      "지출 추가 모달에 자동 생성 섹션 추가 (의료비/교육비)",
      "의료비/교육비를 그룹 요약 카드로 표시, 상세 관리 모달 추가",
      "의료비/교육비 자동 생성 시 배치 API로 성능 개선 (2회 호출로 단축)",
      "의료비 구간 변경 (0~59/60~69/70~79/80~89/90~100세, 연간 기준)",
      "amount_base_year 필드 추가 - 현재가치 저장 후 엔진이 동적으로 물가 반영",
      "의료비 자동 생성 시 기대수명 반영 (기대수명 이후 구간 미생성)",
      "DashboardContent에서 사용하지 않는 레거시 switch case 9개 및 미사용 import 제거",
      "소득/지출/부동산 카드에서 시뮬레이션 가정 사용 시 '시뮬레이션 가정'으로 표시 (하드코딩 퍼센트 제거)",
      "InvestmentAssumptions → SimulationAssumptions 리네임 + DB 컬럼 migration",
      "GlobalSettings 제거 - 시뮬레이션 가정(SimulationAssumptions) 단일 시스템으로 통합",
      "SimulationRates에 baseRate/debtDefault 필드 추가 (변동금리/부채 기본이자 지원)",
      "ScenarioModal 삭제 (dead code)",
      "V1 시뮬레이션 엔진 완전 제거 (simulationEngine.ts, dataMigration.ts, AssetSimulationChart.tsx 삭제)",
      "V1 deprecated 타입 제거 (GlobalSettings, ScenarioMode, ScenarioRates, SimulationSettings 등)",
      "시뮬레이션 공통 타입을 simulationTypes.ts로 분리",
      "저축/투자 카드 레이아웃을 시뮬레이션 관점으로 개선 (브로커명 제거, 이율/적립액/기간 표시)",
      "시뮬레이션 엔진에 기본 유동 현금 보장 - 계좌 없어도 가상 유동 현금 자동 생성, 잉여/인출 최후순위",
      "현금흐름 우선순위 잉여금 배분 패널에 유동 현금 고정 행 표시 (마이너스 통장과 동일 패턴)",
      "저축/투자 삭제 시 현금흐름 우선순위에 남아있던 규칙 자동 정리",
      "잉여금 배분 규칙 없을 때 임의 계좌 배분 폴백 제거 - 유동 현금으로만 흡수되도록 수정",
      "잉여금 배분 규칙에 적립/잔액유지 모드, 기간 설정, 목표 잔액 기능 추가",
      "새 시뮬레이션 생성 시 현금흐름 우선순위 자동 생성 제거 (사용자 직접 추가)",
      "저축/투자 추가에 '기타 투자자산' 옵션 추가 (이름 + 수익률만 설정)",
      "실물 자산에 매각 예정일(매각 연/월) 입력 필드 추가",
      "부동산 탭에 매각 예정일(매각 연/월) 입력 필드 추가 - 투자용/임대용/토지 및 자가 거주용 지원",
      "부채 탭 예상 월 상환액 미리보기 제거",
      "전체 탭 선택 버튼 디자인 pill-toggle 스타일로 통일 (저축/투자, 실물자산, 부동산, 연금, 지출, 부채, 가족, 포트폴리오, 현재자산 등)",
      "저축/투자 탭을 카테고리별 그룹 레이아웃으로 개편 (저축/투자/ISA 섹션 분리, 섹션별 개수 및 합계 표시)",
      "기대수명 기반 차트 종료 시점 및 툴팁 표시 개선",
      "퇴직연금/퇴직금 계산 시스템 구현 - DB형/퇴직금 자동 계산(연봉/12 x 근속연수) 및 직접 입력 모드 지원, DC형 회사 납입분(연봉/12) 자동 적립, 일시금/연금 수령 방식 엔진 반영",
      "시작일/종료일 프리셋에 본인/배우자 기대수명 옵션 추가 (소득/지출/부채 탭)",
      "지출 탭에 소유자(본인/배우자/가계) 선택 기능 추가",
      "소득/지출/저축/투자 항목 클릭 시 수정 모달 열리도록 변경 (hover 아이콘 제거)",
      "수정 모달 헤더에 삭제 버튼 추가 (확인 다이얼로그 포함)",
      "저축/투자 탭 6개 섹션으로 재편 (입출금 통장, 정기 예금, 적금, 투자 계좌, 절세 계좌, 기타 투자자산)",
      "생애 주기 기본 아이콘/색상 변경 - 은퇴: 핑크(#ec4899), 기대 수명: sparkles 아이콘+인디고(#6366f1), 본인/배우자 동일 색상으로 통일",
      "투자 포트폴리오 거래 추가 모달을 배치 입력 방식으로 개편 - 공통 필드(종목, 계좌)와 거래 행 리스트 분리, 한 번에 여러 거래 추가 가능",
      "투자 포트폴리오 거래 추가 모달에서 메모 필드 제거",
      "연금저축/IRP를 연금 탭에서 저축/투자 탭의 절세 계좌 섹션으로 이동 - ISA/연금저축/IRP 통합 관리",
      "투자 포트폴리오 거래 유형(매수/매도)을 공통 필드에서 각 거래 행으로 이동 - 매수/매도 연속 추가 가능, 토글 버튼 방식",
      "투자 포트폴리오 거래 추가 모달 공통 영역 재배치 - 자산 유형과 증권 계좌를 첫 행에 나란히 배치",
      "투자 포트폴리오 배치 매수+매도 수량 검증 개선 - 같은 배치 내 매수 수량을 매도 가능 수량에 합산",
      "투자 포트폴리오 거래 추가 모달에서 총 거래금액 표시 제거",
      "투자 포트폴리오 거래 행 삭제 버튼을 휴지통 아이콘으로 변경, 항상 표시",
      "시뮬레이션 엔진 부족분 폴백 인출 순서 수정 - 입출금 통장 우선 사용, 정기 예금/투자는 후순위로 변경 (기존: 정기 예금이 입출금보다 먼저 깨지는 버그)",
      "부족시 인출 규칙 자동 생성 - 사용자 계좌를 유동성 순서로 기본 채움 (입출금→적금→정기예금→투자→연금)",
      "개인연금(연금저축/IRP)을 저축/투자 탭에서 연금 탭으로 복원 - 공적연금/퇴직연금과 함께 관리",
      "국민연금을 공적연금으로 명칭 변경 - 공무원연금, 군인연금, 사학연금 등 포괄",
      "가계부 탭 레이아웃 개편 - 왼쪽(거래 입력/리스트) + 오른쪽(5주 달력) 2컬럼 구조, 도넛 차트 제거, 수입/지출 pill 토글 통합",
      "소득/지출/부동산 카드에서 시뮬레이션 가정 사용 시 '시뮬레이션 가정'으로 표시 (하드코딩 퍼센트 제거)",
      "소득/지출/부동산/저축/투자 카드에서 시뮬레이션 가정 참조 시 구체적 항목 표시 (시뮬레이션 가정 (소득 상승률) 등)",
      "시뮬레이션 헤더 계좌 패널 제거 및 시작 시점 설정 버튼 추가 (연/월 직접 지정)",
      "가계부 탭 레이아웃 리디자인 - 2컬럼 분할 제거, 캘린더/타임라인 전체화면 전환 방식 + 하단 네비게이션 바 (+ 버튼으로 거래 추가)",
      "가계부 거래 추가 모달을 일괄 입력 방식으로 개편 - 인라인 행 추가로 여러 거래를 한 번에 입력, Enter 키로 연속 추가, 행별 유형/카테고리 독립 선택",
      "마이너스 통장(유동 현금 적자) 부채 표시 수정 - 차트 툴팁 부채 섹션에 마이너스 통장 정상 표시, 현금 흐름에서 적자 시 '마이너스 통장 인출'로 라벨 구분",
      "금융자산 소진 시점 차트 표시 - 마이너스 통장 시작 시점에 '금융자산 소진' 어노테이션 라인 추가 (빨간 점선)",
      "부족시 인출 순서 개선 - 유동 현금을 가장 먼저 인출한 후 사용자 인출 규칙 → 폴백 순서 실행",
      "잉여금 배분 순서 개선 - 마이너스 통장 상환 최우선 → 사용자 배분 규칙 → 유동 현금 순서로 변경",
      "현금흐름 우선순위 패널에 유동 현금/마이너스 통장 고정 행 표시 (잉여금 배분, 부족시 인출 양쪽)",
      "저축/투자 전 계좌에 시작 년월 선택 기능 추가 (투자 계좌, 기타 투자자산 포함, 시뮬레이션 시작 이후 개설 계좌는 해당 시점까지 이연)",
      "연금 탭 카드 클릭 시 수정 모달 열리도록 변경 (연필/휴지통 아이콘 제거, 모달 헤더에 삭제 버튼 추가)",
      "소득/지출/부동산/실물자산/부채 카드 클릭 시 수정 모달 열리도록 통일 (연필/휴지통 아이콘 제거, 모달 헤더에 삭제 버튼 추가)",
      "거주용 부동산 여러 개 추가 가능하도록 변경",
      "시뮬레이션 엔진에 부동산/실물자산 취득 현금흐름 반영 기능 추가 - include_in_cashflow 플래그로 미래 취득 시점에 매입가 현금 차감, 취득 전 성장/대출/임대 차단",
      "부동산/실물자산 관리비·대출·임대소득이 취득일 이전에도 반영되던 문제 수정",
      "개인연금 납입 시작일이 무시되던 문제 수정",
      "유동 현금(잉여금)에 저축 수익률이 잘못 적용되던 문제 수정 (0% 고정)",
      "현금흐름 차트/툴팁/상세패널 금액 표시를 만원 단위로 통일 (원 단위 소수점 노이즈 제거)",
    ],
  },
  {
    version: "1.0.0",
    date: "2026.02.13",
    summary: `Lycon의 첫 번째 릴리즈입니다.`,
    changes: [
      "서비스 오픈",
      "설정 페이지 사이드바 + 콘텐츠 패널 구조로 재설계",
      "계좌 관리 - 계좌/카드/페이 목록 및 편집",
      "더보기 메뉴 (이용약관, 개인정보처리방침)",
      "버전 히스토리 페이지",
      "기본 정보 이름/생년월일 수정 기능",
    ],
  },
];

export const CURRENT_VERSION = VERSION_HISTORY[0].version;
